@model IEnumerable<EmployeeVM>
@{
    ViewData["Title"] = "Home";
    
}
@*  <h1>@ViewData["message"]</h1>====>  string
    <h1>@ViewData["message"]</h1> ======>if message=new employee =====>output   @* DemoDataAccessLayer.Models.Employee 
    so i should do casting to show the name
    var employee1 = ViewData["message"] as Employee;
     <h1>@employee1.Name</h1>

     in viewBag no casting needed 

 *@
 <h1 class="alert-success">@TempData["Message"]</h1>

 <div>
   <a class="btn btn-primary mt-3" asp-action="Create">Create New Employee</a>
   </div>
   <div class="mt-2" >
   <form class="row offset-2" method="get" asp-action="Index" >
    <div class="col-10">
      <input class="form-control" type="text" placeholder="Employee Name" name="SearchValue" required />
    </div>    
    <div class="col-2">
      <input class="btn btn-info" type="submit" value="Search" />
    </div>
   </form>
   </div>
@if (Model.Any())
{
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <td>@Html.DisplayNameFor(d => d.Image)</td>
                <td>@Html.DisplayNameFor(d => d.Name)</td>
                <td>@Html.DisplayNameFor(d => d.Age)</td>
                <td>@Html.DisplayNameFor(d => d.Salary)</td>
                <td>@Html.DisplayNameFor(d => d.Department)</td>
                <td>@Html.DisplayNameFor(d => d.Address)</td>
                <td>@Html.DisplayNameFor(d => d.Email)</td>
                <td>@Html.DisplayNameFor(d => d.Phone)</td>
                <td>@Html.DisplayNameFor(d => d.IsActive)</td>


                <td>Details</td>
                <td>Edit</td>
                <td>Delete</td>
            </tr>
        </thead>
        <tbody>
            @foreach(var employee in Model)
            {
                <tr>
                    <td><img src="~/Files/Images/@employee.ImageName" height="75" width="75" class="rounded"></td>
                    <td>@employee.Name</td>
                    <td>@employee.Age</td>
                    <td>@Html.DisplayFor(e=>employee.Salary)</td>
                    <td>@employee.Department?.Name</td>

                    <td>@employee.Address</td>
                    <td>@Html.DisplayFor(e => employee.Email)</td>
                    <td>@employee.Phone</td>
                    <td>
                        @if(employee.IsActive)
                        {
                            <i class="fa-solid fa-circle" style="color:green"></i>
                        }
                        else
                        {
                            <i class="fa-solid fa-circle" style="color:red"></i>

                        }



                    <partial name="ButtonsPartial" Model="@employee.Id.ToString();"></partial>
                </tr>
            }
        </tbody>
    </table>
}
else{
    <div class="mt-3 alert-warning">
        <h1>No Employees</h1>
    </div>
}
